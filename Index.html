<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">

    <!-- iOS viewport FIX -->
    <meta name="viewport"
          content="width=device-width,
                   initial-scale=1.0,
                   maximum-scale=1.0,
                   user-scalable=no,
                   viewport-fit=cover">

    <title>Student App</title>

    <!-- iOS PWA -->
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-title" content="Student App">
    <meta name="apple-mobile-web-app-status-bar-style" content="default">

    <!-- Icons -->
    <link rel="apple-touch-icon" href="https://img.icons8.com/fluency/192/student-center.png">
    <link rel="icon" href="https://img.icons8.com/fluency/192/student-center.png">

    <!-- Font Awesome -->
    <link rel="stylesheet"
          href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">

    <style>
        :root {
            --primary: #2563eb;
            --bg: #f3f4f6;
            --text: #1f2937;
            --muted: #9ca3af;
            --white: #ffffff;
            --shadow: 0 4px 6px rgba(0,0,0,0.1);
        }

        /* ===== iOS HEIGHT FIX ===== */
        html {
            height: -webkit-fill-available;
        }

        body {
            height: 100vh;
            min-height: -webkit-fill-available;
            width: 100vw;
            overflow: hidden;

            background: var(--bg);
            font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Helvetica, Arial, sans-serif;

            -webkit-tap-highlight-color: transparent;
            -webkit-touch-callout: none;
            -webkit-user-select: none;
            user-select: none;
        }

        input, textarea {
            -webkit-user-select: text;
            user-select: text;
        }

        .hidden { display: none !important; }
        .flex { display: flex; }
        .flex-col { flex-direction: column; }
        .items-center { align-items: center; }
        .justify-between { justify-content: space-between; }

        #app {
            height: 100%;
            width: 100%;
            display: flex;
            flex-direction: column;
            background: var(--white);
            position: relative;
            overflow: hidden;
        }

        /* ===== HEADER ===== */
        .header {
            position: sticky;
            top: 0;
            z-index: 40;
            padding: max(env(safe-area-inset-top), 16px) 20px 12px;
            background: rgba(255,255,255,0.95);
            backdrop-filter: blur(12px);
            border-bottom: 1px solid #eee;

            display: flex;
            justify-content: space-between;
            align-items: flex-end;
        }

        .header h1 {
            font-size: 1.5rem;
            font-weight: 700;
        }

        .icon-btn {
            width: 34px;
            height: 34px;
            border-radius: 50%;
            border: none;
            background: var(--primary);
            color: white;
            display: flex;
            align-items: center;
            justify-content: center;
        }

        /* ===== DATE BAR ===== */
        .date-bar {
            padding: 10px 16px;
            border-bottom: 1px solid #eee;
            display: flex;
            justify-content: space-between;
            align-items: center;
            background: white;
        }

        /* ===== CONTENT ===== */
        .content {
            flex: 1;
            overflow-y: auto;
            padding: 16px;
            padding-bottom: 90px;
            -webkit-overflow-scrolling: touch;
        }

        .card {
            background: white;
            border-radius: 16px;
            padding: 16px;
            margin-bottom: 14px;
            box-shadow: var(--shadow);
        }

        .blue { background: #eff6ff; }
        .green { background: #f0fdf4; }
        .orange { background: #fff7ed; }

        /* ===== BOTTOM NAV ===== */
        .nav {
            position: fixed;
            bottom: 0;
            left: 0;
            right: 0;
            padding: 8px 24px calc(8px + env(safe-area-inset-bottom));
            background: white;
            border-top: 1px solid #eee;
            display: flex;
            justify-content: space-between;
            z-index: 50;
        }

        .nav button {
            background: none;
            border: none;
            color: var(--muted);
            display: flex;
            flex-direction: column;
            align-items: center;
            font-size: 11px;
        }

        .nav button.active {
            color: var(--primary);
        }

        /* ===== INSTALL BANNER ===== */
        #install {
            background: linear-gradient(90deg,#1e40af,#2563eb);
            color: white;
            padding: 14px;
            border-radius: 14px;
            margin-bottom: 16px;
        }
    </style>
</head>

<body>
<div id="app">

    <!-- ===== SCHEDULE ===== -->
    <section id="schedule">
        <div class="header">
            <h1>Schedule</h1>
            <button class="icon-btn"><i class="fas fa-plus"></i></button>
        </div>

        <div class="date-bar">
            <button onclick="changeDay(-1)"><i class="fas fa-chevron-left"></i></button>
            <div>
                <div id="month" style="font-size:12px;color:#999;">JANUARY 2026</div>
                <div id="day" style="font-weight:700;">Mon, 12</div>
            </div>
            <button onclick="changeDay(1)"><i class="fas fa-chevron-right"></i></button>
        </div>

        <div class="content" id="list">
            <div id="install">
                <strong>Install App</strong><br>
                Share â†’ Add to Home Screen
            </div>
        </div>
    </section>

    <!-- ===== NAV ===== -->
    <nav class="nav">
        <button class="active"><i class="fas fa-calendar"></i>Schedule</button>
        <button><i class="fas fa-users"></i>Campus</button>
        <button><i class="fas fa-user"></i>Profile</button>
    </nav>

</div>

<script>
    let date = new Date(2026,0,12);

    const courses = [
        { code:'BUS 370', name:'Business Law', day:[2,4], color:'blue' },
        { code:'ECO 122', name:'Microeconomics', day:[1,3,5], color:'green' },
        { code:'BUS 360', name:'Marketing', day:[1], color:'orange' }
    ];

    function changeDay(n){
        date.setDate(date.getDate()+n);
        render();
    }

    function render(){
        document.getElementById('day').textContent =
            date.toLocaleDateString('en-US',{weekday:'short',day:'numeric'});
        document.getElementById('month').textContent =
            date.toLocaleDateString('en-US',{month:'long',year:'numeric'}).toUpperCase();

        const list = document.getElementById('list');
        list.innerHTML = document.getElementById('install').outerHTML;

        const today = date.getDay();
        courses.filter(c=>c.day.includes(today)).forEach(c=>{
            list.innerHTML += `
                <div class="card ${c.color}">
                    <strong>${c.code}</strong><br>${c.name}
                </div>`;
        });
    }

    function checkInstall(){
        const standalone = window.navigator.standalone ||
            window.matchMedia('(display-mode: standalone)').matches;
        if(standalone){
            document.getElementById('install').style.display='none';
        }
    }

    render();
    checkInstall();
</script>
</body>
</html>
